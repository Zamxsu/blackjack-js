(()=>{"use strict";let e=[],t=["C","D","H","S"],r=["A","J","K","Q"],a=0,s=0,n=document.querySelector("#btnPedir"),l=document.querySelector("#btnDetener"),i=document.querySelector("#btnNuevo"),c=document.querySelector(".puntos-jugador"),d=document.querySelector(".puntos-computadora"),o=document.querySelector("#jugador-cartas"),u=document.querySelector("#computadora-cartas"),$=()=>{e=p()},p=()=>{e=[];for(let a=2;a<=10;a++)for(let s of t)e.push(a+s);for(let n of t)for(let l of r)e.push(l+n);return _.shuffle(e)},b=()=>{if(0===e.length)throw"No hay cartas en el deck!";return e.pop()},f=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t};n.addEventListener("click",()=>{let e=b();a+=f(e),c.innerText=a;let t=document.createElement("img");t.src=`assets/cartas/${e}.png`,t.classList.add("carta"),o.append(t),a>21?(console.warn("Lo siento mucho, perdiste"),n.disable=!0,l.disable=!0,g(a)):21===a&&(console.warn("21, Genial!"),n.disable=!0,l.disable=!0,g(a))});let g=e=>{do{let t=b();s+=f(t),d.innerText=s;let r=document.createElement("img");r.src=`assets/cartas/${t}.png`,r.classList.add("carta"),u.append(r)}while(s<e&&e<=21);setTimeout(()=>{s===e?alert("Empate! "):e>21?alert("Perdiste!"):s>21?alert("Ganaste! "):alert("Perdiste! ")},20)};l.addEventListener("click",()=>{n.disable=!0,l.disable=!0,g(a)}),i.addEventListener("click",()=>{console.clear(),$(),a=0,s=0,c.innerText=0,d.innerText=0,u.innerHTML="",o.innerHTML="",n.disable=!1,l.disable=!1})})();